(function(){"use strict";self.importScripts("/wasm_exec.js"),WebAssembly.instantiateStreaming||(WebAssembly.instantiateStreaming=async(e,t)=>{const r=await(await e).arrayBuffer();return await WebAssembly.instantiate(r,t)});let a=!1;function i(e){const t=new Go;WebAssembly.instantiateStreaming(fetch(e.wasm),t.importObject).then(r=>{t.run(r.instance),console.log("helper loaded okay"),a=!0}).catch(r=>{console.error(r),postMessage({type:"failed",reason:r instanceof Error?r.message:"Unknown Error"})})}function o(e){const t=JSON.parse(validateConfig(e.cfg));return t.error?{type:"failed",reason:t.error,id:e.id}:{type:"validated",cfg:t,id:e.id}}function c(e){const t=JSON.parse(sample(e.cfg,e.seed));return t.error?{type:"failed",reason:t.error,id:e.id}:{type:"sample",sample:t,id:e.id}}function u(e){switch(e.type){case"validate":return o(e);case"sample":return c(e);default:throw console.error("helper - unknown request: ",e),new Error("helper unknown request")}}const n=[];onmessage=e=>{if(e.data.type=="ready"){i(e.data);return}n.push(e),s()};function s(){if(!a){setTimeout(s,100);return}const e=n.shift();e&&postMessage(u(e.data))}})();
